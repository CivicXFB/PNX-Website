# 事件监听  

事件是PNX中插件执行工作的主要方式之一，本章节将带您学会使用PNX-JS进行事件监听。  

## 什么是事件  

每当服务器中发生了特定的行为，一个事件对象就会产生。事件是对某种行为或动作的描述，比如玩家登录、
玩家离开、玩家发送消息等等。种种的行为或动作都对应一个事件对象作为它们的抽象，事件对象中带有这个行为或者动作中的一些
关键信息，比如玩家发送消息事件对象中就带有发送事件的玩家对象、发送的消息字符串等等，而玩家对象又包含这个玩家的
位置、生命值、物品栏等等数据。  

插件可以向PNX注册**监听器**来在事件发生的时候做出反应。每个事件对象都包含了对事件的描述，通常事件监听器会在事件发生之前被调用，
此时监听器可以通过取消事件来阻止事件真的发生，如果没有任何事件监听器取消了这个事件，那么它就会真正地在游戏内发生。
监听器的执行是单线程的，所有监听器在注册的时候都要给PNX提供它的优先级，PNX会按照优先级将监听器排序，然后依次执行监听器。
很可能在你的插件的监听器被执行之间这个事件已经被取消了，但通常这不会影响你的监听器的执行，你的监听器仍然会被执行，你可以通过
`event.isCancelled()`来判断事件是否被取消了（后面会详细讲解）。
**特别注意的是，优先级越高，执行顺序越往后排。也就是说，优先级越低，越优先执行！**   
~~*你问为啥不是优先级越高越优先？我也这么认为，但是NKX就是这样奇怪地设计的，为了兼容NK生态我们不得不做出这个反人类的妥协*~~

监听器参与事件的过程如下面的流程如所示：  

![PNX事件流程图](%relativePrefix%image/common/js_tutorial/PNX事件流程图.svg)  

PNX中提供了非常多事件，您可以在 [事件对照表](../../res/事件对照表.html) 中查看。表中每个事件都标注了类名，
您可以在插件中使用这个类名来监听这个事件，点击类名也可以进入对应的JavaDoc查看更多细节。  

## 注册一个事件监听器  

在PNX-JS中，注册事件监听器是通过`:powernukkitx`内置模块中的`PowerNukkitX`来执行的，下面提供了一个简单的模板：  


